{% extends "lims/base.html" %}

{% block title %}Samples{% endblock %}

{% block content_title %}Samples{% endblock %}

{% block content_main %}

    <div id="viewlist">

    {% if object_list %}

        {% load lims_extras %}

        <form id="viewlist-form" method="post">
            <table class="object-list">
                <thead>
                    <tr>
                        <th><input type="checkbox" name="samples-all"></th>
                        <th>Sample ID</th>
                        <th>User</th>
                        <th>Location</th>
                        <th>Modified</th>
                        <th>Collected</th>
                        <th>Tags</th>
                    </tr>
                </thead>

            {% for sample in object_list %}
                <tr>
                    <td><input type="checkbox" name="sample-{{ sample.pk }}"></td>
                    <td>
                        <a href="{% url 'lims:sample_detail' sample.pk %}">{{ sample.slug }}</a>
                    </td>
                    <td>{% if sample.user %}{{ sample.user }}{% endif %}</td>
                    <td>
                        {% if sample.location %}
                        <a href="{% url 'lims:location_detail' sample.location.pk%}">{{ sample.location }}</a>
                        {% endif %}
                    </td>
                    <td>{{ sample.modified }}</td>
                    <td>{% if sample.collected %}{{ sample.collected }}{% endif %}</td>
                    <td>
                        {% for tag in sample.tags.all %}
                          {{ tag }} <br/>
                        {% endfor %}
                    </td>
                </tr>

            {% endfor %}

            </table>

            {% pagination view page_obj %}

        </form>

    {% else %}

        <p>No samples are available.</p>

    {% endif %}

    </div>

{% endblock %}


{% block content_related %}

    <div class="content-related-actions">
        <h3>User Actions</h3>
        <ul>
            <li><a href="{% url 'lims:sample_add' %}">Add Samples</a></li>
        </ul>
    </div>

    <div class="content-related-actions">
        <h3>Admin Actions</h3>
        <ul>
            <li><a href="{% url 'admin:lims_sample_changelist' %}">Admin View</a></li>
        </ul>
    </div>

{% endblock %}
